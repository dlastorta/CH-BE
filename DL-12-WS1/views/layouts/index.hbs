<!DOCTYPE html>
<html lang="es">

<head>
    <title> Desafio 12</title>    
</head>

<body>
    {{{body}}}
    <script src='/socket.io/socket.io.js'></script>
    <script>
        const socket = io();
        const form = document.getElementById('form');
        
        form.addEventListener('submit', (event) => {
            console.log('submit');
            debugger;
            event.preventDefault();
            let title = document.getElementById('title').value;
            let price = document.getElementById('price').value;
            let thumbnail = document.getElementById('thumbnail').value;
            socket.emit('AgregarProducto', {title: title, price: price, thumbnail: thumbnail} )
            document.getElementById('title').value = '';
            document.getElementById('price').value = '';
            document.getElementById('thumbnail').value = '';
        });

        socket.on('ListarProductos', (productos)=>{
            debugger;
            this.productos = productos;
        });
    </script>
</body>

</html>